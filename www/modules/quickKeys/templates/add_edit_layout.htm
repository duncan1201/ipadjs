<style>
    .layout-item {
        display: inline-block;
        vertical-align:middle;
        text-align:center;
        float:left;
        width:100px;
        height:50px;
        line-height: 45px;
        margin-left:2px;
        margin-top:2px;
        margin-bottom:auto;
        border:1px solid black;
        cursor: pointer;
        cursor: hand;
    }
    .group-item {
        float:left;
        display: inline-block;
        width:90px;
        height:35px;
        line-height: 35px;
        border:1px solid darkgray;
        padding:0;
        vertical-align:top;
        margin-right:2px;
        
    }

.group-item .text {
    display: inline-block;
    vertical-align:middle;
    height:100%;
    line-height: 35px;
    margin:0;
    padding-left:4px;
    padding-top:0;
    padding-bottom:0;
    overflow:hidden;
    margin-top:0;
    margin-right:0;
    padding-top:0;
    font-size:small;
    vertical-align:top;
    cursor: pointer;
    cursor: hand;
}

.group-item .icon-button {
    background-color:darkblue;
    vertical-align:middle;
    height:100%;
    line-height: 35px;
    float:right;
    padding-top:0;
    padding-bottom:0;
}

div .active_group {
    background-color:#BBBBBB;
    border:1px solid #333333;
}
</style>
<ion-content scroll="true" ng-controller="layoutCtrl" id="add_edit_layout">
    <div class="row">
        <div class="col">Setup &gt; Quick Keys > New Quick Key Layout</div>
    </div>
    <form ng-submit="layout_form_submit_click(layout)">
    <input type="hidden" ng-model="layout.id">
     
    <div class='card'>
        <div class='item item-divider'>
            Add product
        </div>
        <div class='item item-paddingless'>
            <div class="row" style='padding-left:0;padding-right:0'>
                <div class="col">
                    <label class="item item-input item-select">
                        <div class="input-label">
                            Tags
                        </div>
                        <select ng-model='filter.tag'>
                            <option value="">&nbsp;</option>
                            <option ng-repeat='tag in tags | filter:{name:"!+"}' value='{{tag.name}}'>{{tag.name}}</option>
                        </select>
                    </label>
                </div> <!-- end of col -->
                <div class="col">
                    <label class="item item-input item-select">
                        <div class="input-label">
                            Types
                        </div>
                        <select ng-model='filter.product_type'>
                            <option value="">&nbsp;</option>
                            <option ng-repeat='product_type in product_types | filter:{name:"!+"}' value='{{product_type.name}}'>{{product_type.name}}</option>
                        </select>
                    </label>
                </div> <!-- end of col -->
                <div class="col">
                    <label class="item item-input item-select">
                        <div class="input-label">
                            Brand
                        </div>
                        <select ng-model='filter.brand'>
                            <option value="">&nbsp;</option>
                            <option ng-repeat='brand in brands | filter:{brand_name:"!+"}' value='{{brand.brand_name}}'>{{brand.brand_name}}</option>
                        </select>
                    </label>
                </div> <!-- end of col -->
                <div class="col">
                    <label class="item item-input item-select">
                        <div class="input-label">
                            Supplier
                        </div>
                        <select ng-model='filter.supplier'>
                            <option value="">&nbsp;</option>
                            <option ng-repeat='supplier in suppliers | filter:{name:"!+"}' value="{{supplier.name}}">{{supplier.name}}</option>
                        </select>
                    </label>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of item item-paddingless -->
        <div class='item item-paddingless'>
            <div class='row'>
                <div class='col col-90'>
                    <label class="item item-input item-select">
                        <div class="input-label">
                            Product:
                        </div>
                        <select ng-model="product_to_be_add">
                            <option value="">&nbsp;</option>
                            <option ng-repeat='product in products' value="{{product}}">Name:{{product.name}} Type: {{product.type}}</option>
                        </select>
                    </label>
                </div> <!-- end of col -->
                <div class="col">
                    <button type="button" class="button button-small button-positive" ng-click="add_product_click(layout.active_group, product_to_be_add)">Add</button>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of item -->
    </div> <!-- end of card -->
    
    <div class="row">
        <div class="col">
            <label class="item item-input">
                <span class="input-label">Name:</span>
                <input type="text" placeholder="New Quick Key Layout" class="lightgray-outline" ng-model="layout.name">
                <sub>&nbsp;</sub>
            </label>
        </div>
    </div>

    <div class="row">
        <div class="col col-80 col-offset-10" style='border:1px solid #aaaaaa;padding:0'>
            <div class="card card-paddingless card-marginless" style='border:0px solid red'>
                <div class="item item-divider">
                    <div class="row">
                        <div class="col">
                            <div ng-repeat="group in layout.groups">
                                <div class='group-item' ng-class='{active_group: layout.active_group_id == group.id}' style=''>
                                    <div class="text"  ng-click='group_text_click({{group}})'>{{group.name}}</div>
                                    <button type="button" class="button button-small button-clear button-dark icon-right ion-gear-b icon-button" style='padding-left:0;' ng-click="group_icon_click($event, {{group}})">
                                    </button>
                                </div>
                            </div>
                            <button type="button" class="button button-small button-icon" style='float:right' ng-click="new_group_click($event)">
                                <i class="icon ion-plus-round"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="item" style='height:200px;background-color:#eeeeee;margin:0;padding-top:4px'>
                    <div style='float:left'>
                        <div ng-repeat="key in layout.active_group.keys" ng-click='key_click($event, key)' class='layout-item'>
                            {{key.display_name}}
                        </div>
                        <!--div ng-repeat='n in [1,2,3]' class='layout-item'>
                            {{n}}
                        </div-->
                    </div>
                </div>
                <div class="item item-divider">
                    <div style='float:left;padding-left:2px'>&lt;</div>
                    <div style='float:right;padding-right:2px'>&gt;</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="card">
        <div class="item item-divider item-divider-paddingless">
            <div class="row">
                <div class="col col-25 col-offset-50">
                    <button type="button" class="button button-small button-block button-light" ng-click="layout_form_cancel_click()">Cancel</button>
                </div>
                <div class="col col-25">
                    <button type="submit" class="button button-small button-block button-light" type="submit">Save Layout</button>
                </div>
            </div>
        </div>
    </div>
    </form>
</ion-content>